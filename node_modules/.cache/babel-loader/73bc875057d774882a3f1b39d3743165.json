{"ast":null,"code":"var _jsxFileName = \"/Users/omurservanozbek/Desktop/GtechMovie/src/container/home/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Grid, TextField, InputLabel, MenuItem, FormControl, Select } from '@mui/material';\nimport { SearchWrapper, TextClasses, SideSearch, PageName } from './styled';\nimport Cards from '../../components/Cards';\nimport axios from 'axios';\nimport { useTranslation } from 'react-i18next';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const api_key = 'b88d2c99815f98160d7e7d60aba9664f';\n  const FEATURED_API = `https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=${api_key}&page=1`;\n  const SEARCH_API = `https://api.themoviedb.org/3/search/movie?&api_key=${api_key}&&query=`;\n  const [movies, setMovies] = useState([]);\n  const [searchText, setSearchText] = useState('');\n  const {\n    t\n  } = useTranslation();\n  useEffect(() => {\n    axios.get(FEATURED_API).then(response => {\n      console.log('response', response.data.results);\n      setMovies(response.data.results);\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const [select, setSelect] = useState('');\n  const filterData = [{\n    name: `${t('popularity_asc')}`,\n    id: 1\n  }, {\n    name: `${t('popularity_desc')}`,\n    id: 2\n  }, {\n    name: `${t('rating_asc')}`,\n    id: 3\n  }, {\n    name: `${t('rating_desc')}`,\n    id: 4\n  }, {\n    name: `${t('release_date_asc')}`,\n    id: 5\n  }, {\n    name: `${t('release_date_desc')}`,\n    id: 6\n  }];\n\n  const handleChange = event => {\n    setSelect(event.target.value);\n  };\n\n  const handleTextChange = event => {\n    setSearchText(event.target.value);\n    clearTimeout(timer);\n    const newTimer = setTimeout(async () => {\n      const keywords = event.target.value;\n\n      if (keywords && keywords !== '') {\n        try {\n          const response = await axios.get(SEARCH_API + event.target.value);\n\n          if ((response === null || response === void 0 ? void 0 : response.length) > 0) {\n            Store.dispatch(Action.update('search_state.searched_data', response));\n            const data = [...response];\n            data.forEach(element => {\n              if (element.categories) element.categories.forEach(item => {\n                const result = categoryData.find(val => val.name === item.name);\n                if (result === undefined) categoryData.push(item);\n              });\n            });\n            Store.dispatch(Action.update('search_state.searched_categories', categoryData));\n            onChange('right', true, 'desktop');\n          } else {\n            Store.dispatch(Action.update('search_state.searched_data', []));\n            Store.dispatch(Action.update('search_state.searched_categories', []));\n            onChange('right', true, 'desktop');\n          }\n        } catch (error) {\n          console.error(error);\n        } finally {// ...\n        }\n      } else {\n        setInputValue('');\n        onChange('right', true, 'desktop');\n      }\n    }, 1000);\n    /* axios.get(SEARCH_API+event.target.value)\n      .then(response=>{\n        console.log('response',response)\n      }) */\n  };\n\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    rowSpacing: 1,\n    columnSpacing: {\n      xs: 2,\n      sm: 2,\n      md: 1\n    },\n    children: [/*#__PURE__*/_jsxDEV(PageName, {\n      children: t('popular_films')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(SearchWrapper, {\n      children: /*#__PURE__*/_jsxDEV(TextClasses, {\n        as: TextField,\n        InputLabelProps: {\n          style: {\n            color: '#121858'\n          }\n        },\n        id: \"outlined-basic\",\n        value: searchText,\n        label: t('search'),\n        variant: \"outlined\",\n        onChange: handleTextChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 14\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 4,\n      children: /*#__PURE__*/_jsxDEV(SideSearch, {\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            id: \"demo-simple-select-label\",\n            children: t('result_sorting')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            labelId: \"demo-simple-select-label\",\n            id: \"demo-simple-select\",\n            value: select,\n            label: t('result_sorting'),\n            onChange: handleChange,\n            children: filterData.length && filterData.map(_ref => {\n              let {\n                id,\n                name\n              } = _ref;\n              return /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: id,\n                children: name\n              }, id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 12\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }, this), movies.length && movies.map(movie => /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 2,\n      children: /*#__PURE__*/_jsxDEV(Cards, {\n        data: movie\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 15\n      }, this)\n    }, movie.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 15\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Home, \"xjLRdCeIG1XgFZJ+BfVsL6ahsaU=\", false, function () {\n  return [useTranslation];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","Grid","TextField","InputLabel","MenuItem","FormControl","Select","SearchWrapper","TextClasses","SideSearch","PageName","Cards","axios","useTranslation","Home","api_key","FEATURED_API","SEARCH_API","movies","setMovies","searchText","setSearchText","t","get","then","response","console","log","data","results","select","setSelect","filterData","name","id","handleChange","event","target","value","handleTextChange","clearTimeout","timer","newTimer","setTimeout","keywords","length","Store","dispatch","Action","update","forEach","element","categories","item","result","categoryData","find","val","undefined","push","onChange","error","setInputValue","xs","sm","md","style","color","map","movie"],"sources":["/Users/omurservanozbek/Desktop/GtechMovie/src/container/home/index.js"],"sourcesContent":["import React,{useEffect,useState} from 'react'\nimport {Grid,TextField,InputLabel,MenuItem,FormControl,Select} from '@mui/material'\nimport {SearchWrapper,TextClasses,SideSearch,PageName} from './styled';\nimport Cards from '../../components/Cards'\nimport axios from 'axios'\nimport { useTranslation } from 'react-i18next';\n\n\nconst Home=()=>{\n    const api_key='b88d2c99815f98160d7e7d60aba9664f';\n    const FEATURED_API =`https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=${api_key}&page=1`;\n    const SEARCH_API = `https://api.themoviedb.org/3/search/movie?&api_key=${api_key}&&query=`;\n    const [movies,setMovies]=useState([]);\n    const [searchText,setSearchText]=useState('');\n    const {t} =useTranslation();\n\n\n\n    useEffect(()=>{\n      axios.get(FEATURED_API)\n       .then(response=> {\n           console.log('response',response.data.results)\n           setMovies(response.data.results)\n       })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    },[])\n     \n    const [select, setSelect] = useState('');\n    const filterData=[\n      {name:`${t('popularity_asc')}`,id:1},\n      {name:`${t('popularity_desc')}`,id:2},\n      {name:`${t('rating_asc')}`,id:3},\n      {name:`${t('rating_desc')}`,id:4},\n      {name:`${t('release_date_asc')}`,id:5},\n      {name:`${t('release_date_desc')}`,id:6},\n    ]\n\n    const handleChange = (event) => {\n      setSelect(event.target.value);\n    };\n    const handleTextChange=(event)=>{\n      setSearchText(event.target.value)\n      clearTimeout(timer);\n      const newTimer = setTimeout(async () => {\n        const keywords = event.target.value;\n  \n        if (keywords && keywords !== '') {\n          try {\n            const response = await axios.get(SEARCH_API+event.target.value)\n            if (response?.length > 0) {\n              Store.dispatch(Action.update('search_state.searched_data', response));\n  \n              const data = [...response];\n  \n              data.forEach((element) => {\n                if (element.categories)\n                  element.categories.forEach((item) => {\n                    const result = categoryData.find((val) => val.name === item.name);\n                    if (result === undefined) categoryData.push(item);\n                  });\n              });\n              Store.dispatch(Action.update('search_state.searched_categories', categoryData));\n              onChange('right', true, 'desktop');\n            } else {\n              Store.dispatch(Action.update('search_state.searched_data', []));\n              Store.dispatch(Action.update('search_state.searched_categories', []));\n              onChange('right', true, 'desktop');\n            }\n          } catch (error) {\n            console.error(error);\n          } finally {\n            // ...\n          }\n        } else {\n          setInputValue('');\n          onChange('right', true, 'desktop');\n        }\n      }, 1000);\n\n     /* axios.get(SEARCH_API+event.target.value)\n       .then(response=>{\n         console.log('response',response)\n       }) */\n    }\n\n    return(\n        \n        <Grid container rowSpacing={1} columnSpacing={{ xs: 2, sm: 2, md: 1 }}>\n          <PageName >\n          {t('popular_films')}\n          </PageName>\n        <SearchWrapper>\n             <TextClasses as={TextField} InputLabelProps={{\n               style: { color: '#121858' },\n              }}\n             id=\"outlined-basic\" value={searchText} label={t('search')} variant=\"outlined\"  onChange={ handleTextChange }/>\n          </SearchWrapper>\n          <Grid item xs={4}>\n            <SideSearch>\n            <FormControl fullWidth>\n        <InputLabel id=\"demo-simple-select-label\">{t('result_sorting')}</InputLabel>\n        <Select\n          labelId=\"demo-simple-select-label\"\n          id=\"demo-simple-select\"\n          value={select}\n          label={t('result_sorting')}\n          onChange={handleChange}\n        >\n          {filterData.length && filterData.map(({id,name})=>\n           <MenuItem key={id} value={id}>{name}</MenuItem>\n           )}\n        </Select>\n      </FormControl>\n            </SideSearch>\n           </Grid>\n            {movies.length && movies.map((movie)=>\n              <Grid item xs={2} key={movie.id}>\n              <Cards  data={movie}/>\n              </Grid>\n            )}\n            </Grid>\n    )\n}\n\nexport default Home\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}